<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Great Mondays â€“ Strict Fixed Layout</title>
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />

    <script src="https://cdn.tailwindcss.com"></script>

    <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Space+Grotesk:wght@500;600;700&display=swap"
      rel="stylesheet"
    />

    <style>
      :root {
        /* Bouncy Physics */
        --ease-spring: cubic-bezier(0.34, 1.56, 0.64, 1);
      }

      html, body, #root {
        height: 100%;
        margin: 0;
        padding: 0;
        font-family: "Inter", sans-serif;
        background: #0f172a;
        color: #0f172a;
        overflow: hidden; /* No body scroll */
      }

      h1, h2, h3, h4 { font-family: "Space Grotesk", sans-serif; letter-spacing: -0.03em; }

      /* --- TACTILE PHYSICS --- */
      .bubbly {
        transition: transform 0.4s var(--ease-spring), box-shadow 0.3s ease, background-color 0.2s ease;
        will-change: transform;
        cursor: pointer;
      }

      /* Hover Effect (Desktop only) */
      @media (hover: hover) {
        .bubbly:hover {
          transform: scale(1.02) translateY(-2px);
          z-index: 10;
        }
        .bubbly-btn:hover {
          transform: scale(1.1);
        }
      }

      /* Active/Tap Effect (Squish) */
      .bubbly:active {
        transform: scale(0.96) !important;
        transition: transform 0.1s ease-out;
      }
      .bubbly-btn:active {
        transform: scale(0.85) !important;
      }

      /* Animation */
      @keyframes slowPan {
        0% { transform: scale(1.05) translate(0, 0); }
        100% { transform: scale(1.15) translate(-2%, -1%); }
      }
      .animate-slow-pan {
        animation: slowPan 25s ease-in-out infinite alternate;
      }

      /* Glassmorph */
      .glass {
        background: rgba(255, 255, 255, 0.92);
        backdrop-filter: blur(12px);
        border: 1px solid rgba(255, 255, 255, 0.8);
        box-shadow: 0 8px 32px -8px rgba(0, 0, 0, 0.1);
      }

      .image-card {
        position: relative;
        overflow: hidden;
        background: #000;
      }
      .image-card img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        opacity: 0.85;
        transition: transform 0.5s var(--ease-spring);
      }
      .image-card:hover img {
        transform: scale(1.1);
      }

      /* Mobile Scroll Utils */
      .no-scrollbar::-webkit-scrollbar { display: none; }
      .mobile-scroll { overflow-y: auto; -webkit-overflow-scrolling: touch; }
    </style>
  </head>

  <body>
    <div id="root"></div>

    <script type="text/babel">
      const { useState, useEffect, useRef } = React;

      // Icons
      const Icon = ({ children, className, ...props }) => (
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2.5" strokeLinecap="round" strokeLinejoin="round" className={className} {...props}>{children}</svg>
      );
      const ArrowRight = (props) => <Icon {...props}><path d="M5 12h14" /><path d="m12 5 7 7-7 7" /></Icon>;
      const ArrowLeft = (props) => <Icon {...props}><path d="m12 19-7-7 7-7" /><path d="M19 12H5" /></Icon>;
      const Maximize2 = (props) => <Icon {...props}><polyline points="15 3 21 3 21 9" /><polyline points="9 21 3 21 3 15" /><line x1="21" x2="14" y1="3" y2="10" /><line x1="3" x2="10" y1="21" y2="14" /></Icon>;
      const Minimize2 = (props) => <Icon {...props}><polyline points="4 14 10 14 10 20" /><polyline points="20 10 14 10 14 4" /><line x1="14" x2="21" y1="10" y2="3" /><line x1="3" x2="10" y1="21" y2="14" /></Icon>;

      // Images
      const slideImages = {
        "Great Mondays": "https://images.unsplash.com/photo-1522202176988-66273c2fd55f?q=80&w=2071&auto=format&fit=crop",
        "Why Culture Matters": "https://images.unsplash.com/photo-1517245386807-bb43f82c33c4?q=80&w=2070&auto=format&fit=crop",
        "Evolving Culture Practice": "https://images.unsplash.com/photo-1552664730-d307ca884978?q=80&w=2070&auto=format&fit=crop",
        Purpose: "https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?q=80&w=2070&auto=format&fit=crop",
        Values: "https://images.unsplash.com/photo-1517048676732-d65bc937f952?q=80&w=2070&auto=format&fit=crop",
        Behaviors: "https://images.unsplash.com/photo-1556761175-5973dc0f32e7?q=80&w=2664&auto=format&fit=crop",
        Recognition: "https://images.unsplash.com/photo-1531545514256-b1400bc00f31?q=80&w=2574&auto=format&fit=crop",
        Rituals: "https://images.unsplash.com/photo-1543269865-cbf427effbad?q=80&w=2070&auto=format&fit=crop",
        Cues: "https://images.unsplash.com/photo-1497366216548-37526070297c?q=80&w=2069&auto=format&fit=crop",
        "Breakout Rooms": "https://images.unsplash.com/photo-1529156069898-49953e39b3ac?q=80&w=2055&auto=format&fit=crop",
      };

      function CultureSlideshow() {
        const [currentSlide, setCurrentSlide] = useState(0);
        const [revealStep, setRevealStep] = useState(0);
        const [isFullscreen, setIsFullscreen] = useState(false);
        const [scale, setScale] = useState(1);
        const [isMobile, setIsMobile] = useState(false);
        const [revealedExampleIndices, setRevealedExampleIndices] = useState([]);
        
        const scrollRef = useRef(null);

        const slides = [
          {
            type: "intro",
            title: "Great Mondays",
            subtitle: "Designing a Culture Employees Love",
            objectives: [
              { text: "The Framework", icon: "ðŸŽ¯" },
              { text: "Practical Application", icon: "âš¡" },
              { text: "Design Actions", icon: "ðŸ‘¥" },
            ],
            totalSteps: 4,
          },
          {
            type: "why",
            title: "Why Culture Matters",
            points: [
              "Talent wants meaning",
              "Prevents risk & inconsistency",
              "Designed by intention",
            ],
            highlight: "Treat culture like a product. Define, build, test, iterate.",
            totalSteps: 5,
          },
          {
            type: "component",
            iconEmoji: "ðŸŽ¯",
            title: "Purpose",
            subtitle: "The Foundation",
            color: "from-red-500 to-rose-500",
            accent: "text-red-600",
            shadow: "shadow-red-500/20",
            meaning: "The reason we exist beyond profit. Emotional, clear, enduring.",
            examples: [
              { company: "IKEA", purpose: "Better everyday life", logo: "ðŸ ", img: "https://images.unsplash.com/photo-1555041469-a586c61ea9bc?auto=format&fit=crop&w=800" },
              { company: "Nike", purpose: "Inspire every athlete", logo: "âš¡", img: "https://images.unsplash.com/photo-1542291026-7eec264c27ff?auto=format&fit=crop&w=800" },
              { company: "Starbucks", purpose: "Nurture human spirit", logo: "â˜•", img: "https://images.unsplash.com/photo-1497935586351-b67a49e012bf?auto=format&fit=crop&w=800" },
            ],
            takeaway: "Make it short and actionable.",
            reflection: "What change do we create?",
            totalSteps: 5,
          },
          {
            type: "component",
            iconEmoji: "â¤ï¸",
            title: "Values",
            subtitle: "Guiding Principles",
            color: "from-blue-500 to-cyan-600",
            accent: "text-blue-600",
            shadow: "shadow-blue-500/20",
            meaning: "Beliefs that guide choices. Commitments, not just words.",
            examples: [
              { value: "Own It", icon: "ðŸŽ¯", img: "https://images.unsplash.com/photo-1553484771-371a605b060b?auto=format&fit=crop&w=800" },
              { value: "Learn Boldly", icon: "ðŸš€", img: "https://images.unsplash.com/photo-1523580846011-d3a5bc25702b?auto=format&fit=crop&w=800" },
              { value: "Speak Truth", icon: "ðŸ’¬", img: "https://images.unsplash.com/photo-1588196749597-9ff075ee6b5b?auto=format&fit=crop&w=800" },
            ],
            takeaway: "Values must appear in the lifecycle.",
            reflection: "Which value do we struggle to live?",
            totalSteps: 5,
          },
          {
            type: "component",
            iconEmoji: "ðŸ‘¥",
            title: "Behaviors",
            subtitle: "Making Values Real",
            color: "from-violet-500 to-purple-600",
            accent: "text-violet-600",
            shadow: "shadow-indigo-500/20",
            meaning: "Values converted into observable, coachable actions.",
            examples: [
              { behavior: "Encourage Opinions", icon: "âœ¨", img: "https://images.unsplash.com/photo-1515187029135-18ee286d815b?auto=format&fit=crop&w=800" },
              { behavior: "Remove Gaps", icon: "ðŸŽ¯", img: "https://images.unsplash.com/photo-1517245386807-bb43f82c33c4?auto=format&fit=crop&w=800" },
              { behavior: "Enable Managers", icon: "ðŸ’ª", img: "https://images.unsplash.com/photo-1519389950473-47ba0277781c?auto=format&fit=crop&w=800" },
            ],
            takeaway: "Make right behaviors easy.",
            reflection: "Where do behaviors contradict values?",
            totalSteps: 5,
          },
          {
            type: "component",
            iconEmoji: "ðŸ†",
            title: "Recognition",
            subtitle: "Reinforcing",
            color: "from-amber-400 to-orange-500",
            accent: "text-orange-600",
            shadow: "shadow-orange-500/20",
            meaning: "Reinforcing behaviors through specific acknowledgement.",
            examples: [
              { benefit: "Repetition", detail: "Noticed = Repeated", icon: "ðŸ”„", img: "https://images.unsplash.com/photo-1546953304-5d96f43c2e94?auto=format&fit=crop&w=800" },
              { benefit: "Community", detail: "Strengthens bonds", icon: "ðŸ¤", img: "https://images.unsplash.com/photo-1529156069898-49953e39b3ac?auto=format&fit=crop&w=800" },
              { benefit: "Tangible", detail: "Abstract to concrete", icon: "â­", img: "https://images.unsplash.com/photo-1559526324-593bc073d938?auto=format&fit=crop&w=800" },
            ],
            takeaway: "Tie recognition to a value and behavior.",
            reflection: "What should we stop rewarding?",
            totalSteps: 5,
          },
          {
            type: "component",
            iconEmoji: "ðŸ“…",
            title: "Rituals",
            subtitle: "Building Connection",
            color: "from-teal-400 to-emerald-600",
            accent: "text-teal-600",
            shadow: "shadow-teal-500/20",
            meaning: "Recurring experiences that build connection.",
            examples: [
              { ritual: "Gratitude Circles", description: "Appreciation", icon: "ðŸ™", img: "https://images.unsplash.com/photo-1529333166437-7750a6dd5a70?auto=format&fit=crop&w=800" },
              { ritual: "Demo Day", description: "Showcase wins", icon: "ðŸŽ‰", img: "https://images.unsplash.com/photo-1543269865-cbf427effbad?auto=format&fit=crop&w=800" },
              { ritual: "Customer Stories", description: "Impact", icon: "ðŸ’¡", img: "https://images.unsplash.com/photo-1556761175-5973dc0f32e7?auto=format&fit=crop&w=800" },
            ],
            takeaway: "Rituals need owners, cadence, and meaning.",
            reflection: "Which rituals have lost meaning?",
            totalSteps: 5,
          },
          {
            type: "component",
            iconEmoji: "ðŸ‘ï¸",
            title: "Cues",
            subtitle: "Culture Visible",
            color: "from-pink-500 to-rose-600",
            accent: "text-pink-600",
            shadow: "shadow-pink-500/20",
            meaning: "Physical/digital reminders that automate habits.",
            examples: [
              { cue: "Story Rooms", impact: "Inspiring spaces", icon: "ðŸ¢", img: "https://images.unsplash.com/photo-1497366216548-37526070297c?auto=format&fit=crop&w=800" },
              { cue: "Digital Nudges", impact: "Weekly prompts", icon: "ðŸ“±", img: "https://images.unsplash.com/photo-1516321318423-f06f85e504b3?auto=format&fit=crop&w=800" },
              { cue: "Swag", impact: "Identity", icon: "ðŸ‘•", img: "https://images.unsplash.com/photo-1529333166437-7750a6dd5a70?auto=format&fit=crop&w=800" },
            ],
            takeaway: "Make the right thing obvious.",
            reflection: "Where are cues missing?",
            totalSteps: 5,
          },
          {
            type: "why",
            title: "Evolving Culture Practice",
            points: [
              "Move to 'Values Fit'",
              "Culture as a Product",
              "Hybrid & Distributed",
              "Leaders as Gardeners",
            ],
            highlight: "Shift from hiring for sameness to designing systems that scale values.",
            totalSteps: 6,
          },
          {
            type: "breakout",
            title: "Breakout",
            subtitle: "Apply the 5 Elements",
            rooms: [
              { name: "Purpose", icon: "ðŸŽ¯", color: "from-red-500 to-rose-500" },
              { name: "Values", icon: "â¤ï¸", color: "from-blue-500 to-cyan-500" },
              { name: "Behaviors", icon: "ðŸ‘¥", color: "from-indigo-500 to-purple-500" },
              { name: "Recognition", icon: "ðŸ†", color: "from-yellow-500 to-orange-500" },
              { name: "Rituals", icon: "ðŸ“…", color: "from-teal-500 to-emerald-500" },
            ],
            instruction: "Translate components into actions.",
            totalSteps: 2,
          },
        ];

        // AUTO SCROLL (MOBILE ONLY)
        useEffect(() => {
          if (isMobile && scrollRef.current) {
            setTimeout(() => {
              scrollRef.current.scrollTo({ top: scrollRef.current.scrollHeight, behavior: "smooth" });
            }, 150);
          }
        }, [revealStep, currentSlide, isMobile]);

        useEffect(() => {
          setRevealedExampleIndices([]);
        }, [currentSlide]);

        const toggleFullscreen = async () => {
          try {
            if (!document.fullscreenElement) {
              await document.documentElement.requestFullscreen();
            } else {
              await document.exitFullscreen();
            }
          } catch (err) { setIsFullscreen(!isFullscreen); }
        };

        useEffect(() => {
          const updateScale = () => {
            const width = window.innerWidth;
            const height = window.innerHeight;
            
            if (width < 1024) {
              setIsMobile(true);
              setScale(1);
              return;
            }

            setIsMobile(false);
            if (isFullscreen) { setScale(1); return; }
            
            // Strict 16:9 Scaling logic for PC
            const baseW = 1280;
            const baseH = 720;
            const pad = 40;
            const scaleW = (width - pad) / baseW;
            const scaleH = (height - pad) / baseH;
            const nextScale = Math.min(scaleW, scaleH, 1);
            setScale(nextScale > 0 ? nextScale : 1);
          };
          updateScale();
          window.addEventListener("resize", updateScale);
          return () => window.removeEventListener("resize", updateScale);
        }, [isFullscreen]);

        const nextAction = () => {
          const slide = slides[currentSlide];
          if (revealStep < (slide.totalSteps || 1) - 1) {
            setRevealStep(p => p + 1);
          } else if (currentSlide < slides.length - 1) {
            setCurrentSlide(p => p + 1);
            setRevealStep(0);
          }
        };

        const prevAction = () => {
          if (revealStep > 0) {
            setRevealStep(p => p - 1);
          } else if (currentSlide > 0) {
            const prev = currentSlide - 1;
            setCurrentSlide(prev);
            setRevealStep(slides[prev].totalSteps - 1);
          }
        };

        useEffect(() => {
          const handleKey = (e) => {
            if (e.key === "ArrowRight" || e.key === " ") { e.preventDefault(); nextAction(); }
            if (e.key === "ArrowLeft") { e.preventDefault(); prevAction(); }
            if (e.key.toLowerCase() === "f") { e.preventDefault(); toggleFullscreen(); }
          };
          window.addEventListener("keydown", handleKey);
          return () => window.removeEventListener("keydown", handleKey);
        }, [currentSlide, revealStep, isFullscreen]);

        const slide = slides[currentSlide];

        const getContainerStyle = () => {
          if (isMobile) return { width: "100%", height: "100dvh", border: "none" };
          if (isFullscreen) return { width: "100%", height: "100%" };
          return {
            width: "1280px",
            height: "720px",
            transform: `scale(${scale})`,
            transformOrigin: "top center",
            margin: "0 auto"
          };
        };

        return (
          <div className={`min-h-screen w-full flex flex-col items-center ${isMobile ? "bg-black" : "bg-slate-900 justify-center p-4"}`}>
            
            {/* Controls */}
            <button
              onClick={toggleFullscreen}
              className={`bubbly bubbly-btn fixed z-[60] p-2 rounded-full bg-white/80 text-slate-900 backdrop-blur border border-white/50 ${isMobile ? "top-3 right-3" : "top-6 right-6"}`}
            >
              {isFullscreen ? <Minimize2 className="w-5 h-5" /> : <Maximize2 className="w-5 h-5" />}
            </button>

            {/* MAIN CONTAINER */}
            <div
              className={`relative bg-white shadow-2xl overflow-hidden flex flex-col transition-all duration-300 ${!isMobile && !isFullscreen ? "rounded-[2rem] border-4 border-slate-800" : ""}`}
              style={getContainerStyle()}
            >
              {/* Background */}
              <div className="absolute inset-0 z-0 pointer-events-none">
                <img
                  key={currentSlide}
                  src={slideImages[slide.title] || slideImages["Great Mondays"]}
                  className="w-full h-full object-cover animate-slow-pan opacity-100"
                  alt="bg"
                />
                <div className="absolute inset-0 bg-white/80 backdrop-blur-xl"></div>
                <div className="absolute inset-0 bg-gradient-to-b from-white/95 via-white/70 to-slate-100/80"></div>
              </div>

              {/* SCROLLABLE AREA (Mobile) / FIXED AREA (Desktop) */}
              <div 
                ref={scrollRef}
                className={`relative z-10 flex-1 w-full ${isMobile ? "mobile-scroll pb-32" : "overflow-hidden p-8"}`}
              >
                <div className="flex flex-col h-full justify-center">

                  {/* --- SLIDE CONTENT --- */}
                  {slide.type === "intro" && (
                    <div className="flex flex-col items-center justify-center text-center h-full">
                      <div className={`transition-all duration-500 ${revealStep >= 0 ? "opacity-100" : "opacity-0 translate-y-8"}`}>
                        <div className="bubbly inline-flex p-5 rounded-[2rem] bg-gradient-to-br from-red-500 to-rose-600 shadow-xl text-white mb-4 text-5xl">ðŸš€</div>
                        <h1 className="text-5xl md:text-8xl font-bold text-slate-900 mb-4 leading-none">{slide.title}</h1>
                        <p className="text-xl md:text-3xl text-slate-600 font-light max-w-2xl mx-auto mb-10">{slide.subtitle}</p>
                      </div>
                      <div className="w-full max-w-5xl grid grid-cols-1 md:grid-cols-3 gap-4 px-4">
                        {slide.objectives.map((obj, i) => (
                          <div key={i} className={`glass bubbly p-5 rounded-3xl flex md:flex-col items-center gap-4 transition-all duration-500 ${revealStep >= i + 1 ? "opacity-100 translate-y-0" : "opacity-0 translate-y-8"}`}>
                            <div className="w-10 h-10 rounded-full bg-white flex items-center justify-center text-lg font-bold shadow-sm border border-slate-100">{i + 1}</div>
                            <p className="text-xl font-bold text-slate-800">{obj.text}</p>
                          </div>
                        ))}
                      </div>
                    </div>
                  )}

                  {slide.type === "why" && (
                    <div className="flex flex-col items-center justify-center text-center h-full">
                      <h1 className={`text-4xl md:text-7xl font-bold mb-10 text-slate-900 transition-all duration-500 ${revealStep >= 0 ? "opacity-100 scale-100" : "opacity-0 scale-95"}`}>{slide.title}</h1>
                      <div className="flex flex-col gap-3 max-w-4xl w-full px-4">
                        {slide.points.map((pt, i) => (
                          <div key={i} className={`glass bubbly flex items-center gap-6 p-5 rounded-3xl transition-all duration-300 ${revealStep >= i + 1 ? "opacity-100 x-0" : "opacity-0 -translate-x-8"}`}>
                            <div className="w-3 h-3 rounded-full bg-rose-500 shadow-lg shrink-0"></div>
                            <p className="text-xl md:text-3xl text-slate-800 font-light text-left">{pt}</p>
                          </div>
                        ))}
                      </div>
                      {revealStep >= slide.points.length + 1 && (
                        <div className="mt-8 p-6 bg-slate-900 rounded-3xl shadow-xl max-w-4xl w-full text-left bubbly mx-4 text-white text-xl font-bold">
                          "{slide.highlight}"
                        </div>
                      )}
                    </div>
                  )}

                  {slide.type === "component" && (
                    <div className="flex flex-col h-full">
                      <div className={`flex items-end gap-6 mb-6 shrink-0 transition-all duration-500 ${revealStep >= 0 ? "opacity-100" : "opacity-0 -translate-y-4"}`}>
                        <div className={`bubbly w-20 h-20 md:w-24 md:h-24 rounded-[2rem] bg-gradient-to-br ${slide.color} flex items-center justify-center text-4xl md:text-5xl shadow-xl text-white shrink-0`}>{slide.iconEmoji}</div>
                        <div>
                          <p className={`${slide.accent} font-bold text-sm tracking-widest uppercase mb-1`}>{slide.subtitle}</p>
                          <h1 className="text-4xl md:text-7xl font-bold text-slate-900 leading-none">{slide.title}</h1>
                        </div>
                      </div>

                      <div className="flex-1 grid grid-cols-1 lg:grid-cols-12 gap-6 content-start min-h-0">
                        <div className="lg:col-span-4 flex flex-col gap-4">
                          <div className={`definition-card bubbly p-6 rounded-[2rem] transition-all duration-500 delay-100 ${revealStep >= 1 ? "opacity-100 x-0" : "opacity-0 -translate-x-4"}`}>
                            <p className="text-lg md:text-2xl font-bold leading-tight text-white/95">{slide.meaning}</p>
                            <div className={`w-12 h-1 rounded-full bg-gradient-to-r ${slide.color} mt-4`}></div>
                          </div>
                          <div className={`glass bubbly p-5 rounded-[2rem] border-l-8 ${slide.color.replace("from-", "border-").split(" ")[0]} transition-all duration-500 delay-200 ${revealStep >= 4 ? "opacity-100 y-0" : "opacity-0 translate-y-4"} hidden lg:block`}>
                            <h3 className="text-slate-400 text-xs font-bold uppercase tracking-widest mb-2">Reflect</h3>
                            <p className="text-lg font-medium text-slate-800">{slide.reflection}</p>
                          </div>
                        </div>

                        <div className="lg:col-span-8 flex flex-col gap-4 h-full min-h-0">
                          <div className={`flex-1 min-h-0 transition-all duration-500 delay-150 ${revealStep >= 2 ? "opacity-100 y-0" : "opacity-0 translate-y-4"}`}>
                            <div className="grid grid-cols-1 sm:grid-cols-3 gap-3 h-full">
                              {slide.examples?.map((ex, i) => {
                                const isRev = revealedExampleIndices.includes(i);
                                return (
                                  <div key={i} onClick={() => !revealedExampleIndices.includes(i) && setRevealedExampleIndices(p => [...p, i])} className="image-card bubbly relative rounded-3xl h-32 md:h-full cursor-pointer">
                                    <img src={ex.img} alt="img" />
                                    <div className={`absolute inset-0 transition-all duration-300 flex flex-col items-center justify-center p-2 text-center ${isRev ? "bg-black/80" : "bg-black/20 hover:bg-black/40"}`}>
                                      {!isRev && <div className="bg-white/20 p-2 rounded-full backdrop-blur animate-pulse"><span className="text-xl">âœ¨</span></div>}
                                      <div className={`transition-all duration-300 ${isRev ? "opacity-100 scale-100" : "opacity-0 scale-50 absolute"}`}>
                                        <div className="text-2xl mb-1">{ex.logo || ex.icon}</div>
                                        <div className="font-bold text-base text-white leading-tight">{ex.company || ex.value || ex.behavior || ex.benefit || ex.ritual || ex.cue}</div>
                                        <div className="text-[10px] text-gray-300 mt-1 leading-tight">{ex.purpose || ex.detail || ex.description || ex.impact}</div>
                                      </div>
                                    </div>
                                  </div>
                                )
                              })}
                            </div>
                          </div>
                          
                          <div className={`bg-gradient-to-r ${slide.color} bubbly p-6 rounded-[2rem] shadow-lg shrink-0 transition-all duration-500 ${revealStep >= 3 ? "opacity-100" : "opacity-0"}`}>
                            <h3 className="text-white/70 text-xs font-bold uppercase tracking-widest mb-1">Key Takeaway</h3>
                            <p className="text-xl md:text-2xl font-bold text-white leading-tight">"{slide.takeaway}"</p>
                          </div>

                          <div className={`glass bubbly p-5 rounded-[2rem] border-l-8 ${slide.color.replace("from-", "border-").split(" ")[0]} transition-all duration-500 ${revealStep >= 4 ? "opacity-100" : "opacity-0"} lg:hidden`}>
                            <h3 className="text-slate-400 text-xs font-bold uppercase tracking-widest mb-2">Reflect</h3>
                            <p className="text-base font-medium text-slate-800">{slide.reflection}</p>
                          </div>
                        </div>
                      </div>
                    </div>
                  )}

                  {slide.type === "breakout" && (
                    <div className="flex flex-col items-center justify-center text-center h-full">
                      <div className={`mb-8 transition-all duration-500 ${revealStep >= 0 ? "opacity-100" : "opacity-0 translate-y-8"}`}>
                        <div className="inline-flex p-4 rounded-full bg-white shadow-lg mb-4 text-4xl">ðŸ”¥</div>
                        <h1 className="text-5xl md:text-8xl font-bold text-slate-900 mb-2">{slide.title}</h1>
                        <p className="text-xl md:text-3xl text-slate-600 font-light">{slide.subtitle}</p>
                      </div>
                      <div className="w-full max-w-6xl grid grid-cols-1 sm:grid-cols-5 gap-4 px-4">
                        {slide.rooms.map((room, i) => (
                          <div key={i} className={`glass bubbly flex sm:flex-col items-center p-4 sm:p-6 rounded-[2rem] gap-4 hover:bg-white transition-colors duration-300 ${revealStep >= 1 ? "opacity-100 y-0" : "opacity-0 translate-y-8"}`}>
                            <div className={`w-14 h-14 sm:w-20 sm:h-20 rounded-full bg-gradient-to-br ${room.color} flex items-center justify-center text-2xl sm:text-4xl text-white shadow-lg shrink-0`}>{room.icon}</div>
                            <div className="text-left sm:text-center"><h3 className="text-lg sm:text-xl font-bold text-slate-800">{room.name}</h3></div>
                          </div>
                        ))}
                      </div>
                      <div className={`mt-8 bg-white/90 bubbly p-5 rounded-[2rem] shadow-lg max-w-2xl transition-all duration-500 ${revealStep >= 1 ? "opacity-100" : "opacity-0"}`}>
                        <p className="text-lg font-medium text-slate-700">ðŸ“¢ {slide.instruction}</p>
                      </div>
                    </div>
                  )}

                </div>
              </div>

              {/* FIXED BOTTOM NAV */}
              <div className="relative z-50 shrink-0 w-full bg-white/90 backdrop-blur border-t border-slate-100">
                <div className="h-1.5 bg-slate-100 w-full">
                  <div className={`h-full bg-gradient-to-r ${slide.color || "from-slate-800 to-slate-600"} transition-all duration-500 ease-out`} style={{ width: `${((currentSlide + 1) / slides.length) * 100}%` }}></div>
                </div>
                <div className="flex justify-between items-center p-3 md:p-4">
                  <div className="bg-slate-100 px-4 py-2 rounded-full flex items-center gap-2 text-sm font-bold text-slate-500 shadow-inner">
                    <span className="text-slate-900">{(currentSlide + 1).toString().padStart(2, "0")}</span>
                    <span className="w-px h-3 bg-slate-300"></span>
                    <span>{slides.length.toString().padStart(2, "0")}</span>
                  </div>
                  <div className="flex items-center gap-3">
                    <button onClick={prevAction} disabled={currentSlide === 0 && revealStep === 0} className="bubbly bubbly-btn p-3 rounded-full bg-white hover:bg-slate-50 disabled:opacity-30 shadow-sm border border-slate-200 text-slate-700"><ArrowLeft className="w-5 h-5" /></button>
                    <button onClick={nextAction} disabled={currentSlide === slides.length - 1 && revealStep === slide.totalSteps - 1} className="bubbly bubbly-btn p-3 rounded-full bg-slate-900 text-white hover:bg-slate-800 disabled:opacity-30 shadow-lg shadow-slate-900/20"><ArrowRight className="w-5 h-5" /></button>
                  </div>
                </div>
              </div>
              
            </div>
          </div>
        );
      }
      ReactDOM.createRoot(document.getElementById("root")).render(<CultureSlideshow />);
    </script>
  </body>
</html>
